const e=()=>{let n=[],o=[];const i=new Set,a=e=>(n.forEach(t=>{e.add(t.middleware,{...t})}),o.forEach(t=>{e.addRelativeTo(t.middleware,{...t})}),e),s=e=>{const t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...s(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...s(e))}),t},u=(e=!1)=>{const i=[],a=[],u={};var d;return n.forEach(e=>{const t={...e,before:[],after:[]};t.name&&(u[t.name]=t),i.push(t)}),o.forEach(e=>{const t={...e,before:[],after:[]};t.name&&(u[t.name]=t),a.push(t)}),a.forEach(t=>{if(t.toMiddleware){const r=u[t.toMiddleware];if(void 0===r){if(e)return;throw new Error(`${t.toMiddleware} is not found when adding ${t.name||"anonymous"} middleware ${t.relation} ${t.toMiddleware}`)}"after"===t.relation&&r.after.push(t),"before"===t.relation&&r.before.push(t)}}),(d=i,d.sort((e,n)=>t[n.step]-t[e.step]||r[n.priority||"normal"]-r[e.priority||"normal"])).map(s).reduce((e,t)=>(e.push(...t),e),[])},d={add:(e,t={})=>{const{name:r,override:o}=t,a={step:"initialize",priority:"normal",middleware:e,...t};if(r){if(i.has(r)){if(!o)throw new Error(`Duplicate middleware name '${r}'`);const e=n.findIndex(e=>e.name===r),t=n[e];if(t.step!==a.step||t.priority!==a.priority)throw new Error(`"${r}" middleware with ${t.priority} priority in ${t.step} step cannot be overridden by same-name middleware with ${a.priority} priority in ${a.step} step.`);n.splice(e,1)}i.add(r)}n.push(a)},addRelativeTo:(e,t)=>{const{name:r,override:n}=t,a={middleware:e,...t};if(r){if(i.has(r)){if(!n)throw new Error(`Duplicate middleware name '${r}'`);const e=o.findIndex(e=>e.name===r),t=o[e];if(t.toMiddleware!==a.toMiddleware||t.relation!==a.relation)throw new Error(`"${r}" middleware ${t.relation} "${t.toMiddleware}" middleware cannot be overridden by same-name middleware ${a.relation} "${a.toMiddleware}" middleware.`);o.splice(e,1)}i.add(r)}o.push(a)},clone:()=>a(e()),use:e=>{e.applyToStack(d)},remove:e=>"string"==typeof e?(e=>{let t=!1;const r=r=>!r.name||r.name!==e||(t=!0,i.delete(e),!1);return n=n.filter(r),o=o.filter(r),t})(e):(e=>{let t=!1;const r=r=>r.middleware!==e||(t=!0,r.name&&i.delete(r.name),!1);return n=n.filter(r),o=o.filter(r),t})(e),removeByTag:e=>{let t=!1;const r=r=>{const{tags:n,name:o}=r;return!n||!n.includes(e)||(o&&i.delete(o),t=!0,!1)};return n=n.filter(r),o=o.filter(r),t},concat:t=>{const r=a(e());return r.use(t),r},applyToStack:a,identify:()=>u(!0).map(e=>e.name+": "+(e.tags||[]).join(",")),resolve:(e,t)=>{for(const r of u().map(e=>e.middleware).reverse())e=r(e,t);return e}};return d},t={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},r={high:3,normal:2,low:1};class n{constructor(t){this.middlewareStack=e(),this.config=t}send(e,t,r){const n="function"!=typeof t?t:void 0,o="function"==typeof t?t:r,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!o)return i(e).then(e=>e.output);i(e).then(e=>o(null,e.output),e=>o(e)).catch(()=>{})}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}class o{constructor(){this.middlewareStack=e()}}const i="***SensitiveInformation***",a=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},s=e=>{if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||z.warn(R(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){const t=e.toLowerCase();if("false"!==t&&"true"!==t||z.warn(R(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},u=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&z.warn(R(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},d=Math.ceil(2**127*(2-2**-23)),l=e=>{const t=u(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>d)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},c=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},f=c,p=e=>w(e,32),y=e=>w(e,16),h=e=>w(e,8),w=(e,t)=>{const r=c(e);if(void 0!==r&&m(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},m=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},g=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},b=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},$=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return z.warn(R(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},T=e=>{if(null==e)return;const t=b(e),r=Object.entries(t).filter(([,e])=>null!=e).map(([e])=>e);if(0===r.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},E=e=>u("string"==typeof e?S(e):e),v=E,x=e=>l("string"==typeof e?S(e):e),M=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,S=e=>{const t=e.match(M);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},N=e=>"string"==typeof e?U(e):u(e),C=N,O=N,A=e=>"string"==typeof e?U(e):l(e),U=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},I=e=>c("string"==typeof e?S(e):e),j=I,F=e=>p("string"==typeof e?S(e):e),D=e=>y("string"==typeof e?S(e):e),J=e=>h("string"==typeof e?S(e):e),R=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),z={warn:console.warn},k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),u=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`,l=s<10?`0${s}`:`${s}`;return`${k[n]}, ${o<10?`0${o}`:`${o}`} ${W[r]} ${t} ${u}:${d}:${l} GMT`}const P=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),H=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=P.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,i,a,s,u,d]=t,l=D(oe(n)),c=re(o,"month",1,12),f=re(i,"day",1,31);return Z(l,c,f,{hours:a,minutes:s,seconds:u,fractionalMilliseconds:d})},Y=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),G=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),B=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),K=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Y.exec(e);if(t){const[e,r,n,o,i,a,s,u]=t;return Z(D(oe(o)),X(n),re(r,"day",1,31),{hours:i,minutes:a,seconds:s,fractionalMilliseconds:u})}if(t=G.exec(e),t){const[e,r,n,o,i,a,s,u]=t;return V(Z(Q(o),X(n),re(r,"day",1,31),{hours:i,minutes:a,seconds:s,fractionalMilliseconds:u}))}if(t=B.exec(e),t){const[e,r,n,o,i,a,s,u]=t;return Z(D(oe(u)),X(r),re(n.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:s})}throw new TypeError("Invalid RFC-7231 date-time value")},L=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=E(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))},Z=(e,t,r,n)=>{const o=t-1;return ee(e,o,r),new Date(Date.UTC(e,o,r,re(n.hours,"hour",0,23),re(n.minutes,"minute",0,59),re(n.seconds,"seconds",0,60),ne(n.fractionalMilliseconds)))},Q=e=>{const t=(new Date).getUTCFullYear(),r=100*Math.floor(t/100)+D(oe(e));return r<t?r+100:r},V=e=>e.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,X=e=>{const t=W.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},_=[31,28,31,30,31,30,31,31,30,31,30,31],ee=(e,t,r)=>{let n=_[t];if(1===t&&te(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${W[t]} in ${e}: ${r}`)},te=e=>e%4==0&&(e%100!=0||e%400==0),re=(e,t,r,n)=>{const o=J(oe(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},ne=e=>null==e?0:1e3*x("0."+e),oe=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class ie extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,ie.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const ae=(e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,r])=>{null!=e[t]&&""!==e[t]||(e[t]=r)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},se=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const o=ue(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new r({name:t.code||t.Code||n||i||"UnknowError",$fault:"client",$metadata:o});throw ae(a,t)},ue=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),de=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let le=!1;const ce=e=>{e&&!le&&parseInt(e.substring(1,e.indexOf(".")))<14&&(le=!0,process.emitWarning(`The AWS SDK for JavaScript (v3) will\nno longer support Node.js ${e} on November 1, 2022.\n\nTo continue receiving updates to AWS services, bug fixes, and security\nupdates please upgrade to Node.js 14.x or later.\n\nFor details, please refer our blog post: https://a.co/48dbdYz`,"NodeDeprecationWarning"))};function fe(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const pe=e=>Array.isArray(e)?e:[e],ye=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&void 0!==e[r][t]?e[r]=e[r][t]:"object"==typeof e[r]&&null!==e[r]&&(e[r]=ye(e[r]));return e},he=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};he.prototype=Object.create(String.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(he,String);class we extends he{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(e){return e instanceof we?e:new we(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}function me(e,t,r){let n,o,i;if(void 0===t&&void 0===r)n={},i=e;else{if(n=e,"function"==typeof t)return o=t,i=r,be(n,o,i);i=t}for(const e of Object.keys(i)){if(!Array.isArray(i[e])){n[e]=i[e];continue}let[t,r]=i[e];if("function"==typeof r){let o;const i=void 0===t&&null!=(o=r()),a="function"==typeof t&&!!t(void 0)||"function"!=typeof t&&!!t;i?n[e]=o:a&&(n[e]=r())}else{const o=void 0===t&&null!=r,i="function"==typeof t&&!!t(r)||"function"!=typeof t&&!!t;(o||i)&&(n[e]=r)}}return n}const ge=e=>{const t={};for(const[r,n]of Object.entries(e||{}))t[r]=[,n];return t},be=(e,t,r)=>me(e,Object.entries(r).reduce((e,[r,n])=>(Array.isArray(n)?e[r]=n:e[r]="function"==typeof n?[t,n()]:[t,n],e),{})),$e=(e,t,r,n,o,i)=>{if(null==t||void 0===t[r])throw new Error("No value provided for input HTTP label: "+r+".");{const t=n();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?t.split("/").map(e=>fe(e)).join("/"):fe(t))}return e},Te=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};function Ee(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");const n=e.split(t);if(1===r)return n;const o=[];let i="";for(let e=0;e<n.length;e++)""===i?i=n[e]:i+=t+n[e],(e+1)%r===0&&(o.push(i),i="");return""!==i&&o.push(i),o}export{n as Client,o as Command,we as LazyJsonString,i as SENSITIVE_STRING,ie as ServiceException,he as StringWrapper,ge as convertMap,q as dateToUtcString,ae as decorateServiceException,ce as emitWarningIfUnsupportedVersion,s as expectBoolean,h as expectByte,l as expectFloat32,f as expectInt,p as expectInt32,c as expectLong,g as expectNonNull,u as expectNumber,b as expectObject,y as expectShort,$ as expectString,T as expectUnion,fe as extendedEncodeURIComponent,pe as getArrayIfSingleItem,ye as getValueFromTextNode,C as handleFloat,N as limitedParseDouble,O as limitedParseFloat,A as limitedParseFloat32,de as loadConfigsForDefaultMode,z as logger,me as map,a as parseBoolean,L as parseEpochTimestamp,H as parseRfc3339DateTime,K as parseRfc7231DateTime,$e as resolvedPath,Te as serializeFloat,Ee as splitEvery,J as strictParseByte,E as strictParseDouble,v as strictParseFloat,x as strictParseFloat32,j as strictParseInt,F as strictParseInt32,I as strictParseLong,D as strictParseShort,se as throwDefaultError};