class e{trace(){}debug(){}info(){}warn(){}error(){}}const t=()=>{let e=[],o=[];const i=new Set,s=t=>(e.forEach(e=>{t.add(e.middleware,{...e})}),o.forEach(e=>{t.addRelativeTo(e.middleware,{...e})}),t),a=e=>{const t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...a(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...a(e))}),t},u=(t=!1)=>{const i=[],s=[],u={};var l;return e.forEach(e=>{const t={...e,before:[],after:[]};t.name&&(u[t.name]=t),i.push(t)}),o.forEach(e=>{const t={...e,before:[],after:[]};t.name&&(u[t.name]=t),s.push(t)}),s.forEach(e=>{if(e.toMiddleware){const r=u[e.toMiddleware];if(void 0===r){if(t)return;throw new Error(`${e.toMiddleware} is not found when adding ${e.name||"anonymous"} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&r.after.push(e),"before"===e.relation&&r.before.push(e)}}),(l=i,l.sort((e,t)=>r[t.step]-r[e.step]||n[t.priority||"normal"]-n[e.priority||"normal"])).map(a).reduce((e,t)=>(e.push(...t),e),[])},l={add:(t,r={})=>{const{name:n,override:o}=r,s={step:"initialize",priority:"normal",middleware:t,...r};if(n){if(i.has(n)){if(!o)throw new Error(`Duplicate middleware name '${n}'`);const t=e.findIndex(e=>e.name===n),r=e[t];if(r.step!==s.step||r.priority!==s.priority)throw new Error(`"${n}" middleware with ${r.priority} priority in ${r.step} step cannot be overridden by same-name middleware with ${s.priority} priority in ${s.step} step.`);e.splice(t,1)}i.add(n)}e.push(s)},addRelativeTo:(e,t)=>{const{name:r,override:n}=t,s={middleware:e,...t};if(r){if(i.has(r)){if(!n)throw new Error(`Duplicate middleware name '${r}'`);const e=o.findIndex(e=>e.name===r),t=o[e];if(t.toMiddleware!==s.toMiddleware||t.relation!==s.relation)throw new Error(`"${r}" middleware ${t.relation} "${t.toMiddleware}" middleware cannot be overridden by same-name middleware ${s.relation} "${s.toMiddleware}" middleware.`);o.splice(e,1)}i.add(r)}o.push(s)},clone:()=>s(t()),use:e=>{e.applyToStack(l)},remove:t=>"string"==typeof t?(t=>{let r=!1;const n=e=>!e.name||e.name!==t||(r=!0,i.delete(t),!1);return e=e.filter(n),o=o.filter(n),r})(t):(t=>{let r=!1;const n=e=>e.middleware!==t||(r=!0,e.name&&i.delete(e.name),!1);return e=e.filter(n),o=o.filter(n),r})(t),removeByTag:t=>{let r=!1;const n=e=>{const{tags:n,name:o}=e;return!n||!n.includes(t)||(o&&i.delete(o),r=!0,!1)};return e=e.filter(n),o=o.filter(n),r},concat:e=>{const r=s(t());return r.use(e),r},applyToStack:s,identify:()=>u(!0).map(e=>e.name+": "+(e.tags||[]).join(",")),resolve:(e,t)=>{for(const r of u().map(e=>e.middleware).reverse())e=r(e,t);return e}};return l},r={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},n={high:3,normal:2,low:1};class o{constructor(e){this.middlewareStack=t(),this.config=e}send(e,t,r){const n="function"!=typeof t?t:void 0,o="function"==typeof t?t:r,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!o)return i(e).then(e=>e.output);i(e).then(e=>o(null,e.output),e=>o(e)).catch(()=>{})}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const i={},s=new Array(64);for(let e=0,t="A".charCodeAt(0),r="Z".charCodeAt(0);e+t<=r;e++){const r=String.fromCharCode(e+t);i[r]=e,s[e]=r}for(let e=0,t="a".charCodeAt(0),r="z".charCodeAt(0);e+t<=r;e++){const r=String.fromCharCode(e+t),n=e+26;i[r]=n,s[n]=r}for(let e=0;e<10;e++){i[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;i[t]=r,s[r]=t}i["+"]=62,s[62]="+",i["/"]=63,s[63]="/";class a extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?a.mutate((e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let t=0;t<e.length;t+=4){let r=0,o=0;for(let n=t,s=t+3;n<=s;n++)if("="!==e[n]){if(!(e[n]in i))throw new TypeError(`Invalid character ${e[n]} in base64 string.`);r|=i[e[n]]<<6*(s-n),o+=6}else r>>=6;const s=t/4*3;r>>=o%8;const a=Math.floor(o/8);for(let e=0;e<a;e++){const t=8*(a-e-1);n.setUint8(s+e,(r&255<<t)>>t)}}return new Uint8Array(r)})(e)):a.mutate((r=e,(new TextEncoder).encode(r)));var r}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,a.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?function(e){let t="";for(let r=0;r<e.length;r+=3){let n=0,o=0;for(let t=r,i=Math.min(r+3,e.length);t<i;t++)n|=e[t]<<8*(i-t-1),o+=8;const i=Math.ceil(o/6);n<<=6*i-o;for(let e=1;e<=i;e++){const r=6*(i-e);t+=s[(n&63<<r)>>r]}t+="==".slice(0,4-i)}return t}(e):(r=e,new TextDecoder("utf-8").decode(r));var r}(this,e)}}var u,l,c,d,f;!function(e){e.HEADER="header",e.QUERY="query"}(u||(u={})),function(e){e.HTTP="http",e.HTTPS="https"}(l||(l={})),(f=c||(c={}))[f.HEADER=0]="HEADER",f[f.TRAILER=1]="TRAILER",function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(d||(d={}));const p={},y={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),p[e]=t,y[t]=e}const h=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return a.mutate(e);if(!e)return a.mutate(new Uint8Array);const r=t.streamCollector(e);return a.mutate(await r)};class w{constructor(){this.middlewareStack=t()}}const m="***SensitiveInformation***",g=(e,t)=>{for(const r of Object.keys(e)){const n=e[r],o=async function(e,t,r){const o=new n(e);if("function"==typeof t)this.send(o,t);else{if("function"!=typeof r)return this.send(o,t);if("object"!=typeof t)throw new Error("Expected http options but got "+typeof t);this.send(o,t||{},r)}},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}},b=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},T=e=>{if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||Q.warn(K(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){const t=e.toLowerCase();if("false"!==t&&"true"!==t||Q.warn(K(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},E=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Q.warn(K(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},$=Math.ceil(2**127*(2-2**-23)),v=e=>{const t=E(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>$)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},x=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},C=x,S=e=>N(e,32),M=e=>N(e,16),A=e=>N(e,8),N=(e,t)=>{const r=x(e);if(void 0!==r&&U(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},U=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},O=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},I=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},R=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return Q.warn(K(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},j=e=>{if(null==e)return;const t=I(e),r=Object.entries(t).filter(([,e])=>null!=e).map(([e])=>e);if(0===r.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},D=e=>E("string"==typeof e?H(e):e),F=D,J=e=>v("string"==typeof e?H(e):e),z=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,H=e=>{const t=e.match(z);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},k=e=>"string"==typeof e?L(e):E(e),P=k,q=k,B=e=>"string"==typeof e?L(e):v(e),L=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},_=e=>x("string"==typeof e?H(e):e),W=_,Y=e=>S("string"==typeof e?H(e):e),Z=e=>M("string"==typeof e?H(e):e),G=e=>A("string"==typeof e?H(e):e),K=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),Q={warn:console.warn},V=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),u=i<10?`0${i}`:`${i}`,l=s<10?`0${s}`:`${s}`,c=a<10?`0${a}`:`${a}`;return`${V[n]}, ${o<10?`0${o}`:`${o}`} ${X[r]} ${t} ${u}:${l}:${c} GMT`}const te=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),re=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=te.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,i,s,a,u,l]=t,c=Z(Te(n)),d=me(o,"month",1,12),f=me(i,"day",1,31);return ce(c,d,f,{hours:s,minutes:a,seconds:u,fractionalMilliseconds:l})},ne=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),oe=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=ne.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,i,s,a,u,l,c]=t,d=Z(Te(n)),f=me(o,"month",1,12),p=me(i,"day",1,31),y=ce(d,f,p,{hours:s,minutes:a,seconds:u,fractionalMilliseconds:l});return"Z"!=c.toUpperCase()&&y.setTime(y.getTime()-be(c)),y},ie=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),se=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),ae=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ue=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=ie.exec(e);if(t){const[e,r,n,o,i,s,a,u]=t;return ce(Z(Te(o)),pe(n),me(r,"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:u})}if(t=se.exec(e),t){const[e,r,n,o,i,s,a,u]=t;return fe(ce(de(o),pe(n),me(r,"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:u}))}if(t=ae.exec(e),t){const[e,r,n,o,i,s,a,u]=t;return ce(Z(Te(u)),pe(r),me(n.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:s,fractionalMilliseconds:a})}throw new TypeError("Invalid RFC-7231 date-time value")},le=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=D(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))},ce=(e,t,r,n)=>{const o=t-1;return he(e,o,r),new Date(Date.UTC(e,o,r,me(n.hours,"hour",0,23),me(n.minutes,"minute",0,59),me(n.seconds,"seconds",0,60),ge(n.fractionalMilliseconds)))},de=e=>{const t=(new Date).getUTCFullYear(),r=100*Math.floor(t/100)+Z(Te(e));return r<t?r+100:r},fe=e=>e.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,pe=e=>{const t=X.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},ye=[31,28,31,30,31,30,31,31,30,31,30,31],he=(e,t,r)=>{let n=ye[t];if(1===t&&we(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${X[t]} in ${e}: ${r}`)},we=e=>e%4==0&&(e%100!=0||e%400==0),me=(e,t,r,n)=>{const o=G(Te(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},ge=e=>null==e?0:1e3*J("0."+e),be=e=>{const t=e[0];let r=1;if("+"==t)r=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);r=-1}return r*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},Te=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class Ee extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Ee.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const $e=(e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,r])=>{null!=e[t]&&""!==e[t]||(e[t]=r)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},ve=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const o=Ce(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw $e(s,t)},xe=e=>({output:t,parsedBody:r,errorCode:n})=>{ve({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},Ce=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Se=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let Me=!1;const Ae=e=>{e&&!Me&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Me=!0)};function Ne(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const Ue=e=>Array.isArray(e)?e:[e],Oe=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&void 0!==e[r][t]?e[r]=e[r][t]:"object"==typeof e[r]&&null!==e[r]&&(e[r]=Oe(e[r]));return e},Ie=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};Ie.prototype=Object.create(String.prototype,{constructor:{value:Ie,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Ie,String);class Re extends Ie{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(e){return e instanceof Re?e:new Re(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}function je(e,t,r){let n,o,i;if(void 0===t&&void 0===r)n={},i=e;else{if(n=e,"function"==typeof t)return o=t,i=r,Je(n,o,i);i=t}for(const e of Object.keys(i))Array.isArray(i[e])?ze(n,null,i,e):n[e]=i[e];return n}const De=e=>{const t={};for(const[r,n]of Object.entries(e||{}))t[r]=[,n];return t},Fe=(e,t)=>{const r={};for(const n in t)ze(r,e,t,n);return r},Je=(e,t,r)=>je(e,Object.entries(r).reduce((e,[r,n])=>(Array.isArray(n)?e[r]=n:e[r]="function"==typeof n?[t,n()]:[t,n],e),{})),ze=(e,t,r,n)=>{if(null!==t){let o=r[n];"function"==typeof o&&(o=[,o]);const[i=He,s=ke,a=n]=o;return void(("function"==typeof i&&i(t[a])||"function"!=typeof i&&i)&&(e[n]=s(t[a])))}let[o,i]=r[n];if("function"==typeof i){let t;const r=void 0===o&&null!=(t=i()),s="function"==typeof o&&!!o(void 0)||"function"!=typeof o&&!!o;r?e[n]=t:s&&(e[n]=i())}else{const t=void 0===o&&null!=i,r="function"==typeof o&&!!o(i)||"function"!=typeof o&&!!o;(t||r)&&(e[n]=i)}},He=e=>null!=e,ke=e=>e,Pe=(e,t,r,n,o,i)=>{if(null==t||void 0===t[r])throw new Error("No value provided for input HTTP label: "+r+".");{const t=n();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?t.split("/").map(e=>Ne(e)).join("/"):Ne(t))}return e},qe=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},Be=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e);if("object"==typeof e){const t={};for(const r of Object.keys(e))null!=e[r]&&(t[r]=Be(e[r]));return t}return e};function Le(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");const n=e.split(t);if(1===r)return n;const o=[];let i="";for(let e=0;e<n.length;e++)""===i?i=n[e]:i+=t+n[e],(e+1)%r===0&&(o.push(i),i="");return""!==i&&o.push(i),o}export{o as Client,w as Command,Re as LazyJsonString,e as NoOpLogger,m as SENSITIVE_STRING,Ee as ServiceException,Ie as StringWrapper,Be as _json,h as collectBody,De as convertMap,g as createAggregatedClient,ee as dateToUtcString,$e as decorateServiceException,Ae as emitWarningIfUnsupportedVersion,T as expectBoolean,A as expectByte,v as expectFloat32,C as expectInt,S as expectInt32,x as expectLong,O as expectNonNull,E as expectNumber,I as expectObject,M as expectShort,R as expectString,j as expectUnion,Ne as extendedEncodeURIComponent,Ue as getArrayIfSingleItem,Oe as getValueFromTextNode,P as handleFloat,k as limitedParseDouble,q as limitedParseFloat,B as limitedParseFloat32,Se as loadConfigsForDefaultMode,Q as logger,je as map,b as parseBoolean,le as parseEpochTimestamp,re as parseRfc3339DateTime,oe as parseRfc3339DateTimeWithOffset,ue as parseRfc7231DateTime,Pe as resolvedPath,qe as serializeFloat,Le as splitEvery,G as strictParseByte,D as strictParseDouble,F as strictParseFloat,J as strictParseFloat32,W as strictParseInt,Y as strictParseInt32,_ as strictParseLong,Z as strictParseShort,Fe as take,ve as throwDefaultError,xe as withBaseException};